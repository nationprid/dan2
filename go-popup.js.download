(function($){var GP=$.goPopup=function(){return GP.render(arguments[0])},locale=$('meta[name="locale"]').attr("content");$.extend(GP,{defaultLocale:"ko",locale:locale||"",i18n:{ko:{"\ud655\uc778":"\ud655\uc778","\uc774\ub3d9":"\uc774\ub3d9","\uc800\uc7a5":"\uc800\uc7a5","\ub2eb\uae30":"\ub2eb\uae30","\ucde8\uc18c":"\ucde8\uc18c","\uc0ad\uc81c":"\uc0ad\uc81c","\uac80\uc0c9":"\uac80\uc0c9"},ja:{"\ud655\uc778":"\u78ba\u8a8d","\uc774\ub3d9":"\u79fb\u52d5","\uc800\uc7a5":"\u4fdd\u5b58","\ub2eb\uae30":"\u9589\u3058\u308b","\ucde8\uc18c":"\u30ad\u30e3\u30f3\u30bb\u30eb","\uc0ad\uc81c":"\u524a\u9664","\uac80\uc0c9":"\u691c\u7d22"},en:{"\ud655\uc778":"OK","\uc774\ub3d9":"Move","\uc800\uc7a5":"Save","\ub2eb\uae30":"Close","\ucde8\uc18c":"Cancel","\uc0ad\uc81c":"Delete","\uac80\uc0c9":"Search"},zh_CN:{"\ud655\uc778":"\u786e\u8ba4","\uc774\ub3d9":"\u79fb\u52a8","\uc800\uc7a5":"\u4fdd\u5b58","\ub2eb\uae30":"\u5173\u95ed","\ucde8\uc18c":"\u53d6\u6d88","\uc0ad\uc81c":"\u5220\u9664","\uac80\uc0c9":"\u641c\u7d22"},zh_TW:{"\ud655\uc778":"\u78ba\u8a8d","\uc774\ub3d9":"\u79fb\u52d5","\uc800\uc7a5":"\u4fdd\u5b58","\ub2eb\uae30":"\u95dc\u9589","\ucde8\uc18c":"\u53d6\u6d88","\uc0ad\uc81c":"\u522a\u9664","\uac80\uc0c9":"\u641c\u7d22"},vi:{"\ud655\uc778":"X\u00e1c nh\u1eadn","\uc774\ub3d9":"Di chuy\u1ec3n","\uc800\uc7a5":"L\u01b0u","\ub2eb\uae30":"\u0110\u00f3ng","\ucde8\uc18c":"H\u1ee7y","\uc0ad\uc81c":"X\u00f3a","\uac80\uc0c9":"T\u00ecm ki\u1ebfm"}}});if(!GP.locale||!GP.i18n.hasOwnProperty(GP.locale))GP.locale=GP.defaultLocale;$.extend(GP,{version:"1.6.4",defaults:{pid:"gpopupLayer",targetEl:".go_body",width:400,height:"",top:"50%",modal:!0,draggable:!0,closeIconVisible:!0,btype:{normal:"btn_minor_s",caution:"btn_caution_s",confirm:"btn_major_s",disable:"btn_major btn_disabled",normal2:"btn_bk"},buttons:{ok:{btext:GP.i18n[GP.locale]["\ud655\uc778"],btype:"confirm"},move:{btext:GP.i18n[GP.locale]["\uc774\ub3d9"],btype:"confirm"},save:{btext:GP.i18n[GP.locale]["\uc800\uc7a5"],btype:"confirm"},close:{btext:GP.i18n[GP.locale]["\ub2eb\uae30"],btype:"normal"},cancel:{btext:GP.i18n[GP.locale]["\ucde8\uc18c"],btype:"normal"},del:{btext:GP.i18n[GP.locale]["\uc0ad\uc81c"],btype:"caution"},search:{btext:GP.i18n[GP.locale]["\uac80\uc0c9"],btype:"confirm"}},tpl:{wrap:['<div class="go_popup {pclass}" id="{pid}" data-id="{generateUUID}" data-close="false" style="display:none" data-layer>',"<header>","    <h1>{header}</h1>","    {headerHtml}",'    <a id="go_popup_close_icon" class="btn_layer_x" style="display:none" data-bypass title="{closeText}"><span class="ic"></span><span class="txt"></span></a>',"</header>",'<div class="content">{pTitle}{message}<span id="popupContent">{contents}</span></div>{buttonwrap}</div>'],wrapSearch:['<div class="go_popup detail_search_wrap{pclass}" data-id="{generateUUID}" style="display:" data-layer>','<div class="detail_search">',"<header><h1>{header}</h1>",'<a class="btn_layer_x" data-bypass><span class="ic"></span><span class="txt">{closeText}</span></a>',"</header>",'<span class="layer_tail_top"><i></i></span>','<div class="content go_renew"><span id="popupContent">{contents}</span></div>',"{buttonwrap}","</div>","</div>"],pTitle:'<p class="q">{pTitle}</p>',message:'<p class="add">{message}</add>',buttonwrap:'<footer class="btn_layer_wrap"></footer>',button:'<a class="{bclass}" data-bypass style="margin-right:5px" title="{btext}"><span class="ic"></span><span class="txt">{btext}</span></a>',overlay:'<div id="popOverlay" class="overlay" data-id="{generateUUID}"></div>'}},error:function(e,t,n,r){var i=t?!1:!0;if(n)return $(t).siblings(".go_error").remove(),!1;if(i)GP.slideMessage(e,"caution");else{messageTpl=['<span class="alert_wrap wrap_desc_top go_error go_renew"><span class="desc caution">',e,"</span></span>"];var s=messageTpl.join("");r&&(s=$(s).delay(3e3).fadeOut(500,function(){$(this).remove()})),$(t).siblings(".go_error").remove().end().after(s)}return},message:function(e){GP.slideMessage(e);return},slideMessage:function(e,t){$("#go_slideMessage").remove();var n;t=="caution"?n=['<div id="go_slideMessage" class="layer_toast" style="display:none"><div class="alert_wrap go_error"><div class="content"><span class="txt">',e,"</span></div></div></div>"]:n=['<div id="go_slideMessage" class="layer_toast" style="display:none"><div class="alert_wrap"><div class="content"><span class="txt">',e,"</span></div></div></div>"],$(n.join("")).appendTo("body"),$("#go_slideMessage").slideDown(50,function(){$("#go_slideMessage").delay(2e3).slideUp(50,function(){$("#go_slideMessage").remove()}),$(".btn_del_light").bind("click",function(){$("#go_slideMessage").remove()})}),$("#go_slideMessage").bind("click",function(){$("#go_slideMessage").remove()});return},alert:function(e,t,n,r,i){return GP.render({title:e,message:t,modal:!0,closeCallback:i,buttons:[{btext:r||GP.defaults.buttons.close.btext,btype:"normal",callback:n}]})},confirm:function(e,t,n,r,i,s){return typeof r=="string"&&(i=r),GP.render({title:e,message:t,modal:!0,allowPrevPopup:!0,closeIconVisible:!1,buttons:[{btext:i||GP.defaults.buttons.ok.btext,btype:"confirm",callback:n},{btext:s||GP.defaults.buttons.cancel.btext,btype:"normal",callback:typeof r=="function"?r:function(){}}]})},caution:function(e,t,n,r,i){return typeof r=="string"&&(i=r),GP.render({title:e,message:t,modal:!0,allowPrevPopup:!0,buttons:[{btext:i||GP.defaults.buttons.del.btext,btype:"caution",callback:n},{btext:GP.defaults.buttons.cancel.btext,bclass:GP.defaults.buttons.cancel.bclass,callback:typeof r=="function"?r:function(){}}]})},goImportantCaution:function(e){return GP.render({title:e.title,contents:e.contents,modal:!0,allowPrevPopup:!0,buttons:[{btext:e.btntext||GP.defaults.buttons.del.btext,btype:"caution",autoclose:!1,callback:e.confirmCallback},{btext:GP.defaults.buttons.cancel.btext,bclass:GP.defaults.buttons.cancel.bclass,callback:typeof e.cancelCallback=="function"?e.cancelCallback:function(){}}]})},search:function(e){var t=" layer_normal",n=null;"pclass"in e&&(t=[t,e.pclass].join(" "),delete e.pclass),"callback"in e&&(n=e.callback,delete e.callback);var r=$.extend({width:505,wrapTpl:GP.defaults.tpl.wrapSearch,pclass:t,buttons:[{btype:GP.defaults.buttons.search.btype,btext:GP.defaults.buttons.search.btext,autoclose:!1,callback:n},GP.defaults.buttons.cancel]},e);return GP.render(r)},template:function(e,t){return e.replace(/{(\w*)}/g,function(e,n){return t.hasOwnProperty(n)?t[n]:""})},close:function(e,t,n){var r=n||null;typeof e=="function"&&(e(t),$(n).remove(),$(".go_popup").length>0||($(window).off(".gopop"),$(".go_popup, #popOverlay").remove())),$("#mail-viewer").contents().find("object[name=powerupload]").css("visibility","visible");if(t){var i=$(t.currentTarget),s=i.parents("div.go_popup").first().attr("data-id");s==undefined?(GP.defaults.modal&&$("#popOverlay").remove(),i.parents("div.go_popup").first().remove()):($('div.go_popup[data-id="'+s+'"]').remove(),$('div[data-id ="'+s+'"]').remove()),$(window).off(".gopop")}else $(window).off(".gopop"),$(".go_popup, #popOverlay").remove();r&&$(r).remove(),GO.util.isIE8()&&(document.title=sessionStorage.getItem("browserTitle")||""),GP.toggleTrigger!=0&&$(document).trigger("hideLayer.goLayer")},_generateUUID:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+GO.util.getSecureRandomInt(0,15))%16|0;return e=Math.floor(e/16),(t=="x"?n:n&3|8).toString(16)});return t},renderPopup:function(options){options=options||{};var deferred=$.Deferred();options.isDrag&&(options.draggable=options.isDrag);var popupEl=null,wrapTpl=options.wrapTpl||GP.defaults.tpl.wrap;pid=options.id||GP.defaults.pid,generateUUID=this._generateUUID(),targetEl=options.targetEl||GP.defaults.targetEl,header=options.header||"",headerHtml=options.headerHtml||"",pclass=options.pclass?options.pclass:header?"layer_normal":"layer_confim",width=options.width||GP.defaults.width,height=options.height||GP.defaults.height,pTop=options.top||GP.defaults.top,pTitle=options.title||"",message=options.message||"",contents=options.contents||"",buttons=options.buttons||"",buttonwrap=buttons?GP.defaults.tpl.buttonwrap:"",addCss=width<0?{top:pTop}:{width:width,top:pTop,height:height},modal=options.hasOwnProperty("modal")?options.modal:GP.defaults.modal,draggable=options.hasOwnProperty("draggable")?options.draggable:GP.defaults.draggable,appendTarget=options.appendTarget||"body",closeIconVisible=options.closeIconVisible==undefined?GP.defaults.closeIconVisible:options.closeIconVisible,allowPrevPopup=options.allowPrevPopup?options.allowPrevPopup:!1,forceClosePopup=options.forceClosePopup==undefined?!modal:options.forceClosePopup;var draggable=GP.defaults.draggable;options.draggable?draggable=options.draggable:options.isLock&&(draggable=!options.isLock);var openCallback=options.openCallback||"",isLock=options.isLock,handle=options.handle||"";GP.toggleTrigger=options.toggleTrigger!=0?!0:!1,GP.defaults.modal=modal,allowPrevPopup||GP.close(),modal&&$(appendTarget).append($(GP.template(GP.defaults.tpl.overlay,{generateUUID:generateUUID})));var templateParam={pid:pid,header:header,generateUUID:generateUUID,pTitle:pTitle?GP.template(GP.defaults.tpl.pTitle,{pTitle:pTitle}):"",pclass:pclass,headerHtml:headerHtml,width:width,top:pTop,closeText:GP.i18n[GP.locale]["\ub2eb\uae30"],message:message?GP.template(GP.defaults.tpl.message,{message:message}):"",buttonwrap:buttonwrap};typeof contents=="string"&&(templateParam.contents=contents),popupEl=$(GP.template(wrapTpl.join(""),templateParam)),typeof contents=="object"&&popupEl.find("#popupContent").html(contents),popupEl.appendTo(appendTarget).data("popup-options",{closeCallback:options.closeCallback||""}),$("#mail-viewer").contents().find("object[name=powerupload]").css("visibility","hidden");var closeCallback=popupEl.data("popup-options").closeCallback;closeIconVisible&&popupEl.find("#go_popup_close_icon").show(),popupEl.reoffset=function(){if(options.offset)$.extend(addCss,options.offset,{position:options.offset.position||"absolute",margin:0});else{var e=$(window).height()<popupEl.height(),t=$(window).width()<popupEl.width(),n=e?"absolute":"fixed",r=e?window.scrollY||document.documentElement.scrollTop:$(window).height()/2-popupEl.height()/2,i=t?window.scrollX||document.documentElement.scrollLeft:$(window).width()/2-popupEl.width()/2;_.extend(addCss,{position:n,top:r,left:i})}return popupEl.css(addCss).fadeIn(100),popupEl},popupEl.reoffset().css("z-index","99");var popupDragged=!1;draggable&&popupEl.draggable({containment:"document",handle:"header, footer",cursor:"move",delay:200,stop:function(e,t){popupDragged=!0}}),openCallback&&openCallback(popupEl);if(buttons){var buttonWrap=popupEl.find(".btn_layer_wrap");$(buttons).each(function(k,v){buttonWrap.append($(GP.template(GP.defaults.tpl.button,$.extend(v,{bclass:eval("GP.defaults.btype."+v.btype)||GP.defaults.btype.normal}))).bind("click.gopop",function(e){e.stopPropagation();if(popupDragged)return popupDragged=!1,!1;v.autoclose=v.hasOwnProperty("autoclose")?v.autoclose:!0,v.callback&&v.callback(popupEl,e),v.autoclose&&GP.close(closeCallback,e)}))})}return popupEl.close=GP.close,popupEl.reoffset(),popupEl.find(".btn_layer_x").bind("click.gopop",function(e){GP.close(closeCallback,e)}),deferred.resolveWith(this,[popupEl,deferred]),deferred},render:function(e){var t=null;return GP.renderPopup(e).done(function(n,r){n.reoffset(),t=n,t.data("deferred",r);var i=e.closeCallback||null,s={"click.gopop":function(e){if(!forceClosePopup)return;if($(".go_popup").length&&$(".go_popup").attr("data-close")=="true"&&!$(e.target).parents(".go_popup").length){if($("#popOverlay").length||$(e.target).hasClass("paginate_button"))return!1;if($(".ui-datepicker").length>0&&$(".ui-datepicker").is(":visible"))return!1;if($(e.target).parents(".layer_organogram").length)return!1;GP.close(i,e)}$(".go_popup").attr("data-close",!0)},"resize.gopop":function(e){t.reoffset()},"keydown.gopop":function(e){e.keyCode==27&&GP.close(i,e,t)}};setTimeout(function(){$(window).off(".gopop").on(s)},100),e.toggleTrigger!=0&&$(document).trigger("showLayer.goLayer")}),t},_error:function(){}}),$.goAlert=GP.alert,$.goConfirm=GP.confirm,$.goCaution=GP.caution,$.goMessage=GP.message,$.goError=GP.error,$.goSearch=GP.search,$.goSlideMessage=GP.slideMessage,$.goImportantCaution=GP.goImportantCaution})(jQuery);